# 使用说明

## 安装依赖（仅开发时需要）

```bash
pip install -r requirements.txt
```

## 运行程序（开发模式）

```bash
python main.py
```

## 打包为exe

### 方法1：使用build.spec（推荐）

```bash
pyinstaller build.spec
```

### 方法2：直接使用命令

```bash
pyinstaller --onefile --windowed --name=RadioPotato main.py
```

打包后的exe文件位于 `dist/RadioPotato.exe`

## 使用方法

1. **启动程序**
   - 双击 `RadioPotato.exe` 运行
   - 程序会在同目录下自动创建 `data` 文件夹用于保存播放计划

2. **添加音频文件**
   - **方法1（推荐）**：拖放音频文件到窗口左侧的拖放区域
   - **方法2**：点击"选择音频文件"按钮，从文件对话框选择

3. **设置播放计划**
   - 在右侧"选择周几"区域勾选要播放的日期（周一到周日）
   - 设置播放时间（小时和分钟）
   - 输入计划名称（可选，默认为"上课提醒"）
   - 点击"添加播放计划"按钮

4. **管理播放计划**
   - 在播放计划列表中可以看到所有已添加的计划
   - **测试播放**：选中计划后点击"测试播放"按钮
   - **编辑计划**：双击计划项或选中后点击"编辑"按钮
   - **删除计划**：选中计划后点击"删除"按钮

5. **后台运行**
   - 点击窗口的"关闭"按钮会将程序最小化到系统托盘
   - 右键点击托盘图标可以显示窗口或退出程序
   - 播放时托盘图标会闪烁提示

6. **查看状态**
   - 窗口顶部显示当前系统时间
   - 状态栏显示播放状态和下一个播放时间
   - 播放时会弹出Windows通知

## 注意事项

1. **音频文件路径**
   - 程序会保存音频文件的完整路径（绝对路径）
   - 如果音频文件移动或删除，程序会标记为失效但仍保留在列表中
   - 建议将音频文件放在固定位置或与程序放在同一目录

2. **系统时间**
   - 程序依赖系统时间，请确保电脑系统时间准确
   - 窗口顶部会显示当前系统时间供确认

3. **播放队列**
   - 如果多个播放计划在同一时间触发，会自动排队播放
   - 不会中断当前正在播放的内容

4. **程序关闭**
   - 关闭窗口只会最小化到托盘，不会停止程序
   - 要完全退出程序，请右键点击托盘图标选择"退出"
   - 所有播放计划会自动保存

5. **便携性**
   - 将exe文件复制到随身碟即可使用
   - 数据保存在exe同目录的`data`文件夹中
   - 可以同时复制exe和音频文件到随身碟，确保路径一致

## 故障排除

1. **拖放功能不可用**
   - 如果显示"tkinterdnd2未安装"警告，请使用"选择音频文件"按钮代替

2. **音频无法播放**
   - 检查文件格式是否支持（MP3, WAV, WMA等）
   - 检查文件路径是否正确
   - 确认系统音量未静音

3. **系统托盘不显示**
   - 某些Windows版本可能需要额外的权限
   - 如果无法使用，可以保持窗口打开

4. **通知不显示**
   - 检查Windows通知设置是否开启
   - 某些Windows 8系统可能需要启用通知权限

